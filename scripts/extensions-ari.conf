[globals]
CONSOLE=Console/dsp				; Console interface for demo

[from-internal]
; ARI Dialer Application - routes calls through ARI for management
exten => _X.,1,NoOp(ARI Dialer call: Campaign ${CAMPAIGN_ID} calling ${EXTEN})
same => n,Set(CALLERID(name)=Campaign ${CAMPAIGN_ID})
same => n,Stasis(dialer_app,${EXTEN})
same => n,Hangup()

; Internal extension dialing (for agents)
exten => _XXX,1,NoOp(Internal call to ${EXTEN})
same => n,Dial(PJSIP/${EXTEN},20)
same => n,Hangup()

; Test extension
exten => 999,1,Answer()
same => n,Wait(1)
same => n,Playbook(hello-world)
same => n,Wait(2)
same => n,Hangup()

[dialer-actions]
; Context for ARI application to route calls after Stasis
; This is where calls go after being processed by the ARI application
exten => _X.,1,NoOp(Routing call to ${EXTEN} via trunk)
same => n,Dial(PJSIP/${EXTEN}@trunk1,30)
same => n,Hangup()

; Default action when no specific routing is needed
exten => s,1,Answer()
same => n,Wait(1)
same => n,Playback(hello-world)
same => n,Hangup()